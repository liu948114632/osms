package com.itecheasy.core.task;

import com.itecheasy.core.fba.AmazonReportService;
import com.itecheasy.core.system.Shop;
import com.itecheasy.core.system.dao.ShopDao;
import com.itecheasy.osms.order.AmazonReportWebService;
import com.itecheasy.webservice.amazon.RequestReportVO;
import com.itecheasy.webservice.client.AmazonClient;

import java.util.List;

/**
 * @Auther: liteng
 * @Date: 2018/7/3 11:01
 * @Description: 定时任务，自动来跑亚马逊，获取报告，之后写入本地
 */
public class SyncAmozonStackReportTaskImpl implements SyncAmozonStackReportTask{

    private ShopDao shopDao;

    private AmazonReportService amazonReportService;

    public void setAmazonReportService(AmazonReportService amazonReportService) {
        this.amazonReportService = amazonReportService;
    }

    public void setShopDao(ShopDao shopDao) {
        this.shopDao = shopDao;
    }


    /**
     *
     *
     * 获取所有的商店report
     */
    @Override
    public void syncAmozonStackReportTask() {

            // TODO: 2018/7/6
        List<Shop> enableShops = shopDao.getEnableShops();
        amazonReportService.getAmazonStockReportFromAmazon(enableShops);

    }
}
